const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/native-BUDRcC0O.js","assets/index-DGAWCVB8.js","assets/index-CiuAZOJU.css"])))=>i.map(i=>d[i]);
import{ac as ot,ad as it,ae as Ms,af as qs,ag as It,ah as N,ai as F,p as Ct,aj as Z,ak as ze,e as At,al as D,am as te,m as G,I as V,an as we,ao as xe,ap as Rt,B as ve,aq as Os,ar as Ge,N as B,as as js,at as Fs,au as Hs,av as Bt,aw as Lt,r as g,k as se,ax as U,ay as kt,az as Mt,aA as qt,aB as Ve,aC as $e,P as W,aa as be,aD as Ot,z as Y,aE as Fe,h as y,aF as Ns,aG as Ds,aH as le,aI as ct,aJ as Us,aK as jt,aL as Ft,aM as zs,aN as ee,a1 as Gs,aO as He,Q as We,aP as Vs,aQ as Ke,aR as $s,aS as ae,$ as Ht,a0 as Nt,aT as Ws,i as Ee,aU as Dt,aV as Q,K as T,aW as Ne,aX as Je,aY as Ut,aZ as zt,a_ as Ye,a$ as Ks,b0 as Gt,J as Vt,b1 as $t,D as Pe,R as Qe,b2 as Js,b3 as Wt,S as Ys,V as Kt,b4 as Jt,b5 as Yt,b6 as Qt,b7 as Xt,b8 as Xe,b9 as Qs,ba as Xs,bb as Zs,bc as ea,bd as Zt,c as es,be as ts,bf as ss,bg as De,bh as as,bi as ns,_ as rs,bj as ta,bk as sa,bl as aa,bm as na,bn as ra,A as oa,bo as ia,bp as ca,bq as ua,br as da,bs as la,bt as fa,bu as ha,bv as ma,bw as ga,bx as pa,by as ya,G as ba,bz as _a,bA as wa,bB as xa,u as va,bC as Ea,bD as Pa,bE as Sa,bF as Ta,bG as Ia,bH as Ca,bI as Aa,bJ as Ra,bK as Ba,bL as La,bM as ka,bN as Ma,bO as qa,bP as Oa,bQ as ja,bR as Fa,bS as Ha,bT as Na,bU as Da,E as Ua,bV as za,bW as Ga,bX as Va,H as $a,bY as Wa,bZ as Ka,b_ as Ja,b$ as Ya,c0 as Qa,c1 as Xa,c2 as Za,c3 as en,c4 as tn,c5 as sn,c6 as an,c7 as nn,c8 as rn,c9 as on,ca as cn,cb as un,cc as dn,cd as ln,ce as fn,cf as hn,cg as mn,ch as gn,ci as pn,cj as yn,ck as bn,cl as _n,cm as wn,cn as xn,co as vn,cp as En,cq as Pn,cr as Sn,cs as Tn,ct as In,cu as Cn,cv as An,cw as Rn,cx as Bn,cy as Ln,cz as kn,cA as Mn,cB as qn,cC as On,cD as jn,cE as Fn,cF as Hn,cG as Nn,cH as Dn,cI as Un,cJ as zn,cK as Gn,cL as Vn,T as $n,cM as Wn,cN as Kn,cO as Jn,cP as Yn,cQ as Qn,cR as Xn,cS as Zn,cT as er,F as tr,x as sr,cU as ar,U as nr,cV as rr,cW as or,o as ir,cX as cr,cY as ur,cZ as dr,c_ as lr,c$ as fr,d0 as hr,d1 as mr,d2 as gr,d as pr,d3 as yr,d4 as br,d5 as _r,d6 as wr,d7 as xr,d8 as vr,d9 as Er,da as Pr,db as Sr,dc as Tr,dd as Ir,f as Cr,de as Ar,df as Rr,C as Br,dg as Lr,dh as kr,di as Mr,dj as qr,dk as Or,dl as ut,dm as dt,dn as jr,dp as Fr,dq as Hr,dr as Nr,ds as Dr,dt as Ur,du as zr,dv as Gr,a5 as Vr,dw as $r,dx as Wr,dy as Kr,dz as Jr,dA as Yr,dB as Qr,dC as lt,dD as fe,dE as ft,dF as Xr,dG as Zr,dH as eo,dI as to,dJ as so,a9 as ao,dK as no,dL as ro,dM as oo,dN as io,dO as co,dP as uo,dQ as lo,dR as fo,dS as ho,dT as mo,dU as go,dV as po,dW as yo,dX as bo,dY as _o,dZ as wo,d_ as xo,d$ as vo,e0 as Eo,e1 as Po,e2 as So,e3 as To,e4 as Io,e5 as Co,e6 as Ao,e7 as Ro,e8 as Bo,e9 as Lo,ea as ko,eb as Mo,ec as qo,ed as Oo,ee as jo,ef as Fo,eg as Ho,eh as No,ei as Do,ej as Uo,ek as zo,el as Go,em as Vo,en as $o,eo as Wo,ep as Ko,eq as Jo,er as Yo,es as Qo,et as Xo,eu as Zo,ev as ei,ew as ti,ex as si,ey as ai,ez as ni,eA as ri,eB as oi,eC as ii,eD as ci,eE as ui,eF as di,eG as li,eH as fi,eI as hi,eJ as mi,eK as gi,eL as pi,eM as yi,eN as bi,eO as _i,eP as wi,eQ as xi,eR as vi,eS as Ei,eT as Pi,eU as Si,eV as Ti,eW as Ii,eX as Ci,eY as Ai,eZ as Ri,e_ as Bi,e$ as Li,f0 as ki,f1 as Mi,f2 as qi,f3 as Oi,f4 as ji,f5 as Fi,f6 as Hi,f7 as Ni,f8 as Di,f9 as Ui,fa as zi,fb as Gi,fc as Vi,fd as $i,fe as Wi,ff as Ki,fg as Ji,fh as Yi,fi as Qi,fj as Xi,fk as Zi,fl as ec,fm as tc,fn as sc,fo as ac,fp as nc,fq as rc,fr as oc,fs as ht,ft as ic,fu as cc,fv as uc,fw as dc,n as lc,s as fc,fx as hc,fy as mt,fz as mc,fA as gc,fB as pc,fC as yc,Z as bc,fD as _c,a2 as C,ab as wc,a7 as xc,a3 as vc}from"./index-DGAWCVB8.js";import{d as Ec}from"./index-K1S8v0j_.js";import{e as Pc,p as os,w as Sc,s as Tc,g as Ic,B as Cc,W as Ac,c as Rc,a as Bc,b as gt,n as Lc,d as kc,z as Mc}from"./parseSignature-B2LhspnT.js";import{f as qc,s as Oc}from"./fallback-VNWf9hjN.js";import{ccipRequest as pt,offchainLookup as jc,offchainLookupAbiItem as Fc,offchainLookupSignature as Hc}from"./ccip-r3tbq9mN.js";function Nc(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const r=Object.getOwnPropertyDescriptor(a,n);r&&Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Dc(e){let t;if(typeof e=="string")t=ot(e,{modifiers:it});else{const s=Ms(e),a=e.length;for(let n=0;n<a;n++){const r=e[n];if(!qs(r)){t=ot(r,{modifiers:it,structs:s});break}}}if(!t)throw new It({param:e});return t}function Ue(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function Uc(e){return e.opcode==="CREATE2"?cs(e):is(e)}function is(e){const t=N(F(e.from));let s=N(e.nonce);return s[0]===0&&(s=new Uint8Array([])),F(`0x${Z(D([t,s],"bytes")).slice(26)}`)}function cs(e){const t=N(F(e.from)),s=Ct(Ue(e.salt)?e.salt:N(e.salt),{size:32}),a="bytecodeHash"in e?Ue(e.bytecodeHash)?e.bytecodeHash:N(e.bytecodeHash):Z(e.bytecode,"bytes");return F(ze(Z(At([N("0xff"),t,s,a])),12))}function us(e){const{authorizationList:t}=e;if(t)for(const s of t){const{chainId:a}=s,n=s.address;if(!G(n))throw new V({address:n});if(a<0)throw new te({chainId:a})}ne(e)}function ds(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Os;for(const s of t){const a=Ge(s),n=B(ze(s,0,1));if(a!==32)throw new js({hash:s,size:a});if(n!==Fs)throw new Hs({hash:s,version:n})}}ne(e)}function ne(e){const{chainId:t,maxPriorityFeePerGas:s,maxFeePerGas:a,to:n}=e;if(t<=0)throw new te({chainId:t});if(n&&!G(n))throw new V({address:n});if(a&&a>we)throw new xe({maxFeePerGas:a});if(s&&a&&s>a)throw new Rt({maxFeePerGas:a,maxPriorityFeePerGas:s})}function Ze(e){const{chainId:t,maxPriorityFeePerGas:s,gasPrice:a,maxFeePerGas:n,to:r}=e;if(t<=0)throw new te({chainId:t});if(r&&!G(r))throw new V({address:r});if(s||n)throw new ve("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>we)throw new xe({maxFeePerGas:a})}function et(e){const{chainId:t,maxPriorityFeePerGas:s,gasPrice:a,maxFeePerGas:n,to:r}=e;if(r&&!G(r))throw new V({address:r});if(typeof t<"u"&&t<=0)throw new te({chainId:t});if(s||n)throw new ve("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>we)throw new xe({maxFeePerGas:a})}function re(e){if(!e||e.length===0)return[];const t=[];for(let s=0;s<e.length;s++){const{address:a,storageKeys:n}=e[s];for(let r=0;r<n.length;r++)if(n[r].length-2!==64)throw new Bt({storageKey:n[r]});if(!G(a,{strict:!1}))throw new V({address:a});t.push([a,n])}return t}function ls(e,t){const s=Lt(e);return s==="eip1559"?Vc(e,t):s==="eip2930"?$c(e,t):s==="eip4844"?Gc(e,t):s==="eip7702"?zc(e,t):Wc(e,t)}function zc(e,t){const{authorizationList:s,chainId:a,gas:n,nonce:r,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;us(e);const h=re(f),d=Kc(s);return se(["0x04",D([g(a),r?g(r):"0x",u?g(u):"0x",c?g(c):"0x",n?g(n):"0x",o??"0x",i?g(i):"0x",l??"0x",h,d,...oe(e,t)])])}function Gc(e,t){const{chainId:s,gas:a,nonce:n,to:r,value:o,maxFeePerBlobGas:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;ds(e);let h=e.blobVersionedHashes,d=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof d>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(x=>U(x)),A=e.kzg,v=kt({blobs:w,kzg:A});if(typeof h>"u"&&(h=Mt({commitments:v})),typeof d>"u"){const x=qt({blobs:w,commitments:v,kzg:A});d=Ve({blobs:w,commitments:v,proofs:x})}}const m=re(f),p=[g(s),n?g(n):"0x",u?g(u):"0x",c?g(c):"0x",a?g(a):"0x",r??"0x",o?g(o):"0x",l??"0x",m,i?g(i):"0x",h??[],...oe(e,t)],_=[],E=[],b=[];if(d)for(let w=0;w<d.length;w++){const{blob:A,commitment:v,proof:x}=d[w];_.push(A),E.push(v),b.push(x)}return se(["0x03",d?D([p,_,E,b]):D(p)])}function Vc(e,t){const{chainId:s,gas:a,nonce:n,to:r,value:o,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:u,data:f}=e;ne(e);const l=re(u),h=[g(s),n?g(n):"0x",c?g(c):"0x",i?g(i):"0x",a?g(a):"0x",r??"0x",o?g(o):"0x",f??"0x",l,...oe(e,t)];return se(["0x02",D(h)])}function $c(e,t){const{chainId:s,gas:a,data:n,nonce:r,to:o,value:i,accessList:c,gasPrice:u}=e;Ze(e);const f=re(c),l=[g(s),r?g(r):"0x",u?g(u):"0x",a?g(a):"0x",o??"0x",i?g(i):"0x",n??"0x",f,...oe(e,t)];return se(["0x01",D(l)])}function Wc(e,t){const{chainId:s=0,gas:a,data:n,nonce:r,to:o,value:i,gasPrice:c}=e;et(e);let u=[r?g(r):"0x",c?g(c):"0x",a?g(a):"0x",o??"0x",i?g(i):"0x",n??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(s>0)return BigInt(s*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new $e({v:t.v});return d})(),l=W(t.r),h=W(t.s);u=[...u,g(f),l==="0x00"?"0x":l,h==="0x00"?"0x":h]}else s>0&&(u=[...u,g(s),"0x","0x"]);return D(u)}function oe(e,t){const s=t??e,{v:a,yParity:n}=s;if(typeof s.r>"u")return[];if(typeof s.s>"u")return[];if(typeof a>"u"&&typeof n>"u")return[];const r=W(s.r),o=W(s.s);return[typeof n=="number"?n?g(1):"0x":a===0n?"0x":a===1n?g(1):a===27n?"0x":g(1),r==="0x00"?"0x":r,o==="0x00"?"0x":o]}function Kc(e){if(!e||e.length===0)return[];const t=[];for(const s of e){const{chainId:a,nonce:n,...r}=s,o=s.address;t.push([a?be(a):"0x",o,n?be(n):"0x",...oe({},r)])}return t}function Jc({chains:e,id:t}){return e.find(s=>s.id===t)}function tt(e,t="hex"){const s=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Ot(e);return Y(e)}return e})(),a=Fe(s,{recursiveReadLimit:Number.POSITIVE_INFINITY});return fs(a,t)}function fs(e,t="hex"){if(e.bytes.length===0)return t==="hex"?U(e.bytes):e.bytes;const s=e.readByte();if(s<128&&e.decrementPosition(1),s<192){const n=yt(e,s,128),r=e.readBytes(n);return t==="hex"?U(r):r}const a=yt(e,s,192);return Yc(e,a,t)}function yt(e,t,s){if(s===128&&t<128)return 1;if(t<=s+55)return t-s;if(t===s+55+1)return e.readUint8();if(t===s+55+2)return e.readUint16();if(t===s+55+3)return e.readUint24();if(t===s+55+4)return e.readUint32();throw new ve("Invalid RLP prefix")}function Yc(e,t,s){const a=e.position,n=[];for(;e.position-a<t;)n.push(fs(e,s));return n}function hs(e){return y(e)&&Ge(e)===32}const Qc=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ms=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Xc=ms.map(e=>(9*e+5)%16),gs=(()=>{const s=[[ms],[Xc]];for(let a=0;a<4;a++)for(let n of s)n.push(n[a].map(r=>Qc[r]));return s})(),ps=gs[0],ys=gs[1],bs=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Zc=ps.map((e,t)=>e.map(s=>bs[t][s])),eu=ys.map((e,t)=>e.map(s=>bs[t][s])),tu=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),su=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function bt(e,t,s,a){return e===0?t^s^a:e===1?t&s|~t&a:e===2?(t|~s)^a:e===3?t&a|s&~a:t^(s|~a)}const he=new Uint32Array(16);class au extends Ds{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:s,h2:a,h3:n,h4:r}=this;return[t,s,a,n,r]}set(t,s,a,n,r){this.h0=t|0,this.h1=s|0,this.h2=a|0,this.h3=n|0,this.h4=r|0}process(t,s){for(let d=0;d<16;d++,s+=4)he[d]=t.getUint32(s,!0);let a=this.h0|0,n=a,r=this.h1|0,o=r,i=this.h2|0,c=i,u=this.h3|0,f=u,l=this.h4|0,h=l;for(let d=0;d<5;d++){const m=4-d,p=tu[d],_=su[d],E=ps[d],b=ys[d],w=Zc[d],A=eu[d];for(let v=0;v<16;v++){const x=le(a+bt(d,r,i,u)+he[E[v]]+p,w[v])+l|0;a=l,l=u,u=le(i,10)|0,i=r,r=x}for(let v=0;v<16;v++){const x=le(n+bt(m,o,c,f)+he[b[v]]+_,A[v])+h|0;n=h,h=f,f=le(c,10)|0,c=o,o=x}}this.set(this.h1+i+f|0,this.h2+u+h|0,this.h3+l+n|0,this.h4+a+o|0,this.h0+r+c|0)}roundClean(){ct(he)}destroy(){this.destroyed=!0,ct(this.buffer),this.set(0,0,0,0,0)}}const nu=Ns(()=>new au),ru=nu;function ou(e,t){const s=t||"hex",a=ru(y(e,{strict:!1})?N(e):e);return s==="bytes"?a:be(a)}const qe=new Map;async function iu(e){const{getSocket:t,keepAlive:s=!0,key:a="socket",reconnect:n=!0,url:r}=e,{interval:o=3e4}=typeof s=="object"?s:{},{attempts:i=5,delay:c=2e3}=typeof n=="object"?n:{},u=JSON.stringify({keepAlive:s,key:a,url:r,reconnect:n});let f=qe.get(u);if(f)return f;let l=0;const{schedule:h}=Us({id:u,fn:async()=>{const p=new Map,_=new Map;let E,b,w,A=!1;function v(){if(n&&l<i){if(A)return;A=!0,l++,b==null||b.close(),setTimeout(async()=>{await x().catch(console.error),A=!1},c)}else p.clear(),_.clear()}async function x(){const P=await t({onClose(){var S,L;for(const I of p.values())(S=I.onError)==null||S.call(I,new ee({url:r}));for(const I of _.values())(L=I.onError)==null||L.call(I,new ee({url:r}));v()},onError(S){var L,I;E=S;for(const R of p.values())(L=R.onError)==null||L.call(R,E);for(const R of _.values())(I=R.onError)==null||I.call(R,E);v()},onOpen(){E=void 0,l=0},onResponse(S){const L=S.method==="eth_subscription",I=L?S.params.subscription:S.id,R=L?_:p,M=R.get(I);M&&M.onResponse(S),L||R.delete(I)}});if(b=P,s&&(w&&clearInterval(w),w=setInterval(()=>{var S;return(S=b.ping)==null?void 0:S.call(b)},o)),n&&_.size>0){const S=_.entries();for(const[L,{onResponse:I,body:R,onError:M}]of S)R&&(_.delete(L),f==null||f.request({body:R,onResponse:I,onError:M}))}return P}return await x(),E=void 0,f={close(){w&&clearInterval(w),b.close(),qe.delete(u)},get socket(){return b},request({body:P,onError:S,onResponse:L}){E&&S&&S(E);const I=P.id??zs.take(),R=M=>{var rt;typeof M.id=="number"&&I!==M.id||(P.method==="eth_subscribe"&&typeof M.result=="string"&&_.set(M.result,{onResponse:R,onError:S,body:P}),P.method==="eth_unsubscribe"&&_.delete((rt=P.params)==null?void 0:rt[0]),L(M))};p.set(I,{onResponse:R,onError:S});try{b.request({body:{jsonrpc:"2.0",id:I,...P}})}catch(M){S==null||S(M)}},requestAsync({body:P,timeout:S=1e4}){return jt(()=>new Promise((L,I)=>this.request({body:P,onError:I,onResponse:L})),{errorInstance:new Ft({body:P,url:r}),timeout:S})},requests:p,subscriptions:_,url:r},qe.set(u,f),[f]}}),[d,[m]]=await h();return m}async function ye(e,t={}){const{keepAlive:s,reconnect:a}=t;return iu({async getSocket({onClose:n,onError:r,onOpen:o,onResponse:i}){const c=await Gs(()=>import("./native-BUDRcC0O.js"),__vite__mapDeps([0,1,2])).then(d=>d.WebSocket),u=new c(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",l),u.removeEventListener("error",r),u.removeEventListener("open",o),n()}function l({data:d}){try{const m=JSON.parse(d);i(m)}catch(m){r(m)}}u.addEventListener("close",f),u.addEventListener("message",l),u.addEventListener("error",r),u.addEventListener("open",o),u.readyState===c.CONNECTING&&await new Promise((d,m)=>{u&&(u.onopen=d,u.onerror=m)});const{close:h}=u;return Object.assign(u,{close(){h.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new He({url:u.url,cause:new ee({url:u.url})});const d={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(d))}catch(d){r(d)}},request({body:d}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new He({body:d,url:u.url,cause:new ee({url:u.url})});return u.send(JSON.stringify(d))}})},keepAlive:s,reconnect:a,url:e})}async function cu(e){const t=await ye(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function _s(e){return We(e,-32)===Pc}function ws(e){return Vs(e)}function uu(e){if(!_s(e))return{signature:e};const[t,s,a]=Ke([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:s,signature:a}}function du(e){if(!ws(e))return{signature:e};const{authorization:t,to:s,...a}=$s(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:g(t.r,{size:32}),s:g(t.s,{size:32}),yParity:t.yParity},...s?{address:s}:{},...a}}async function xs({message:e,signature:t}){return ae({hash:Ht(e),signature:t})}async function vs(e){const{domain:t,message:s,primaryType:a,signature:n,types:r}=e;return ae({hash:Nt({domain:t,message:s,primaryType:a,types:r}),signature:n})}function lu(e){const{address:t,data:s,signature:a,to:n="hex"}=e,r=Ws({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:s,signature:a,to:t});return n==="hex"?r:Y(r)}async function fu({address:e,hash:t,signature:s}){return Ee(F(e),await ae({hash:t,signature:s}))}async function hu({address:e,message:t,signature:s}){return Ee(F(e),await xs({message:t,signature:s}))}async function mu(e){const{address:t,domain:s,message:a,primaryType:n,signature:r,types:o}=e;return Ee(F(t),await vs({domain:s,message:a,primaryType:n,signature:r,types:o}))}function Es(e){const t=We(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&B(t)>=192)return"legacy";throw new Dt({serializedType:t})}function Ps(e){const t=Es(e);return t==="eip1559"?yu(e):t==="eip2930"?bu(e):t==="eip4844"?pu(e):t==="eip7702"?gu(e):_u(e)}function gu(e){const t=Se(e),[s,a,n,r,o,i,c,u,f,l,h,d,m]=t;if(t.length!==10&&t.length!==13)throw new Q({attributes:{chainId:s,nonce:a,maxPriorityFeePerGas:n,maxFeePerGas:r,gas:o,to:i,value:c,data:u,accessList:f,authorizationList:l,...t.length>9?{v:h,r:d,s:m}:{}},serializedTransaction:e,type:"eip7702"});const p={chainId:B(s),type:"eip7702"};return y(i)&&i!=="0x"&&(p.to=i),y(o)&&o!=="0x"&&(p.gas=T(o)),y(u)&&u!=="0x"&&(p.data=u),y(a)&&(p.nonce=a==="0x"?0:B(a)),y(c)&&c!=="0x"&&(p.value=T(c)),y(r)&&r!=="0x"&&(p.maxFeePerGas=T(r)),y(n)&&n!=="0x"&&(p.maxPriorityFeePerGas=T(n)),f.length!==0&&f!=="0x"&&(p.accessList=Te(f)),l.length!==0&&l!=="0x"&&(p.authorizationList=wu(l)),us(p),{...t.length===13?ie(t):void 0,...p}}function pu(e){const t=Se(e),s=t.length===4,a=s?t[0]:t,n=s?t.slice(1):[],[r,o,i,c,u,f,l,h,d,m,p,_,E,b]=a,[w,A,v]=n;if(!(a.length===11||a.length===14))throw new Q({attributes:{chainId:r,nonce:o,maxPriorityFeePerGas:i,maxFeePerGas:c,gas:u,to:f,value:l,data:h,accessList:d,...a.length>9?{v:_,r:E,s:b}:{}},serializedTransaction:e,type:"eip4844"});const x={blobVersionedHashes:p,chainId:B(r),type:"eip4844"};return y(f)&&f!=="0x"&&(x.to=f),y(u)&&u!=="0x"&&(x.gas=T(u)),y(h)&&h!=="0x"&&(x.data=h),y(o)&&(x.nonce=o==="0x"?0:B(o)),y(l)&&l!=="0x"&&(x.value=T(l)),y(m)&&m!=="0x"&&(x.maxFeePerBlobGas=T(m)),y(c)&&c!=="0x"&&(x.maxFeePerGas=T(c)),y(i)&&i!=="0x"&&(x.maxPriorityFeePerGas=T(i)),d.length!==0&&d!=="0x"&&(x.accessList=Te(d)),w&&A&&v&&(x.sidecars=Ve({blobs:w,commitments:A,proofs:v})),ds(x),{...a.length===14?ie(a):void 0,...x}}function yu(e){const t=Se(e),[s,a,n,r,o,i,c,u,f,l,h,d]=t;if(!(t.length===9||t.length===12))throw new Q({attributes:{chainId:s,nonce:a,maxPriorityFeePerGas:n,maxFeePerGas:r,gas:o,to:i,value:c,data:u,accessList:f,...t.length>9?{v:l,r:h,s:d}:{}},serializedTransaction:e,type:"eip1559"});const m={chainId:B(s),type:"eip1559"};return y(i)&&i!=="0x"&&(m.to=i),y(o)&&o!=="0x"&&(m.gas=T(o)),y(u)&&u!=="0x"&&(m.data=u),y(a)&&(m.nonce=a==="0x"?0:B(a)),y(c)&&c!=="0x"&&(m.value=T(c)),y(r)&&r!=="0x"&&(m.maxFeePerGas=T(r)),y(n)&&n!=="0x"&&(m.maxPriorityFeePerGas=T(n)),f.length!==0&&f!=="0x"&&(m.accessList=Te(f)),ne(m),{...t.length===12?ie(t):void 0,...m}}function bu(e){const t=Se(e),[s,a,n,r,o,i,c,u,f,l,h]=t;if(!(t.length===8||t.length===11))throw new Q({attributes:{chainId:s,nonce:a,gasPrice:n,gas:r,to:o,value:i,data:c,accessList:u,...t.length>8?{v:f,r:l,s:h}:{}},serializedTransaction:e,type:"eip2930"});const d={chainId:B(s),type:"eip2930"};return y(o)&&o!=="0x"&&(d.to=o),y(r)&&r!=="0x"&&(d.gas=T(r)),y(c)&&c!=="0x"&&(d.data=c),y(a)&&(d.nonce=a==="0x"?0:B(a)),y(i)&&i!=="0x"&&(d.value=T(i)),y(n)&&n!=="0x"&&(d.gasPrice=T(n)),u.length!==0&&u!=="0x"&&(d.accessList=Te(u)),Ze(d),{...t.length===11?ie(t):void 0,...d}}function _u(e){const t=tt(e,"hex"),[s,a,n,r,o,i,c,u,f]=t;if(!(t.length===6||t.length===9))throw new Q({attributes:{nonce:s,gasPrice:a,gas:n,to:r,value:o,data:i,...t.length>6?{v:c,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const l={type:"legacy"};if(y(r)&&r!=="0x"&&(l.to=r),y(n)&&n!=="0x"&&(l.gas=T(n)),y(i)&&i!=="0x"&&(l.data=i),y(s)&&(l.nonce=s==="0x"?0:B(s)),y(o)&&o!=="0x"&&(l.value=T(o)),y(a)&&a!=="0x"&&(l.gasPrice=T(a)),et(l),t.length===6)return l;const h=y(c)&&c!=="0x"?T(c):0n;if(f==="0x"&&u==="0x")return h>0&&(l.chainId=Number(h)),l;const d=h,m=Number((d-35n)/2n);if(m>0)l.chainId=m;else if(d!==27n&&d!==28n)throw new $e({v:d});return l.v=d,l.s=f,l.r=u,l.yParity=d%2n===0n?1:0,l}function Se(e){return tt(`0x${e.slice(4)}`,"hex")}function Te(e){const t=[];for(let s=0;s<e.length;s++){const[a,n]=e[s];if(!G(a,{strict:!1}))throw new V({address:a});t.push({address:a,storageKeys:n.map(r=>hs(r)?r:W(r))})}return t}function wu(e){const t=[];for(let s=0;s<e.length;s++){const[a,n,r,o,i,c]=e[s];t.push({address:n,chainId:a==="0x"?0:B(a),nonce:r==="0x"?0:B(r),...ie([o,i,c])})}return t}function ie(e){const t=e.slice(-3),s=t[0]==="0x"||T(t[0])===0n?27n:28n;return{r:Ne(t[1],{size:32}),s:Ne(t[2],{size:32}),v:s,yParity:s===27n?0:1}}function xu(e,t="wei"){return Je(e,Ut[t])}function vu(e,t="wei"){return Je(e,zt[t])}async function Eu(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function Pu(e){return e.request({method:`${e.mode}_dumpState`})}async function Su(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function Tu(e){return await e.request({method:"txpool_content"})}async function Iu(e){const{pending:t,queued:s}=await e.request({method:"txpool_status"});return{pending:B(t),queued:B(s)}}async function Cu(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Au(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[g(t)]})}async function Ru(e){return await e.request({method:"txpool_inspect"})}async function Bu(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Lu(e,{blocks:t,interval:s}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:g(t)}]}):await e.request({method:`${e.mode}_mine`,params:[g(t),g(s||0)]})}async function ku(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Mu(e,{blockNumber:t,jsonRpcUrl:s}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:s}}]})}async function qu(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Ou(e,t){var E,b,w;const{accessList:s,data:a,from:n,gas:r,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:l,...h}=t,d=(w=(b=(E=e.chain)==null?void 0:E.formatters)==null?void 0:b.transactionRequest)==null?void 0:w.format,p=(d||Ye)({...Ks(h,{format:d}),accessList:s,data:a,from:n,gas:r,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:f,value:l});return await e.request({method:"eth_sendUnsignedTransaction",params:[p]})}async function ju(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function Fu(e,{address:t,value:s}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,g(s)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,g(s)]})}async function Hu(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[g(t)]})}async function Nu(e,{interval:t}){const s=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[s]})}async function Du(e,{address:t,bytecode:s}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,s]}):await e.request({method:`${e.mode}_setCode`,params:[t,s]})}async function Uu(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function zu(e,{interval:t}){const s=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[s]})}async function Gu(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Vu(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[g(t)]})}async function $u(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[g(t)]})}async function Wu(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[g(t)]})}async function Ku(e,{address:t,nonce:s}){await e.request({method:`${e.mode}_setNonce`,params:[t,g(s)]})}async function Ju(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Yu(e,{address:t,index:s,value:a}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof s=="number"?g(s):s,a]})}async function Qu(e){return await e.request({method:"evm_snapshot"})}async function Xu(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}async function Zu(e,{chain:t}){const{id:s,name:a,nativeCurrency:n,rpcUrls:r,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:g(s),chainName:a,nativeCurrency:n,rpcUrls:r.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function ed(e,t){const{abi:s,args:a,bytecode:n,...r}=t,o=Gt({abi:s,args:a,bytecode:n});return Vt(e,{...r,...r.authorizationList?{to:null}:{},data:o})}async function td(e){var s;return((s=e.account)==null?void 0:s.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(a=>$t(a))}async function sd(e,t={}){const{account:s=e.account,chainId:a}=t,n=s?Pe(s):void 0,r=a?[n==null?void 0:n.address,[g(a)]]:[n==null?void 0:n.address],o=await e.request({method:"wallet_getCapabilities",params:r}),i={};for(const[c,u]of Object.entries(o)){i[Number(c)]={};for(let[f,l]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),i[Number(c)][f]=l}return typeof a=="number"?i[a]:i}async function ad(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function nd(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(s=>F(s))}async function rd(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function od(e,t){const{id:s}=t;await e.request({method:"wallet_showCallsStatus",params:[s]})}async function id(e,t){const{account:s=e.account}=t;if(!s)throw new Qe({docsPath:"/docs/eip7702/signAuthorization"});const a=Pe(s);if(!a.signAuthorization)throw new Js({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const n=await os(e,t);return a.signAuthorization(n)}async function cd(e,t){var u,f,l,h;const{account:s=e.account,chain:a=e.chain,...n}=t;if(!s)throw new Qe({docsPath:"/docs/actions/wallet/signTransaction"});const r=Pe(s);Wt({account:r,...t});const o=await Ys(e,Kt,"getChainId")({});a!==null&&Jt({currentChainId:o,chain:a});const i=(a==null?void 0:a.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=i==null?void 0:i.transactionRequest)==null?void 0:f.format)||Ye;return r.signTransaction?r.signTransaction({...n,chainId:o},{serializer:(h=(l=e.chain)==null?void 0:l.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(n),chainId:g(o),from:r.address}]},{retryCount:0})}async function ud(e,t){const{account:s=e.account,domain:a,message:n,primaryType:r}=t;if(!s)throw new Qe({docsPath:"/docs/actions/wallet/signTypedData"});const o=Pe(s),i={EIP712Domain:Yt({domain:a}),...t.types};if(Qt({domain:a,message:n,primaryType:r,types:i}),o.signTypedData)return o.signTypedData({domain:a,message:n,primaryType:r,types:i});const c=Xt({domain:a,message:n,primaryType:r,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function dd(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:g(t)}]},{retryCount:0})}async function ld(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Ss({mode:e}){return t=>{const s=t.extend(()=>({mode:e}));return{dropTransaction:a=>Eu(s,a),dumpState:()=>Pu(s),getAutomine:()=>Su(s),getTxpoolContent:()=>Tu(s),getTxpoolStatus:()=>Iu(s),impersonateAccount:a=>Cu(s,a),increaseTime:a=>Au(s,a),inspectTxpool:()=>Ru(s),loadState:a=>Bu(s,a),mine:a=>Lu(s,a),removeBlockTimestampInterval:()=>ku(s),reset:a=>Mu(s,a),revert:a=>qu(s,a),sendUnsignedTransaction:a=>Ou(s,a),setAutomine:a=>ju(s,a),setBalance:a=>Fu(s,a),setBlockGasLimit:a=>Hu(s,a),setBlockTimestampInterval:a=>Nu(s,a),setCode:a=>Du(s,a),setCoinbase:a=>Uu(s,a),setIntervalMining:a=>zu(s,a),setLoggingEnabled:a=>Gu(s,a),setMinGasPrice:a=>Vu(s,a),setNextBlockBaseFeePerGas:a=>$u(s,a),setNextBlockTimestamp:a=>Wu(s,a),setNonce:a=>Ku(s,a),setRpcUrl:a=>Ju(s,a),setStorageAt:a=>Yu(s,a),snapshot:()=>Qu(s),stopImpersonatingAccount:a=>Xu(s,a)}}}function fd(e){const{key:t="test",name:s="Test Client",mode:a}=e;return Xe({...e,key:t,name:s,type:"testClient"}).extend(r=>({mode:a,...Ss({mode:a})(r)}))}function Ts(e){return{addChain:t=>Zu(e,t),deployContract:t=>ed(e,t),getAddresses:()=>td(e),getCallsStatus:t=>Ic(e,t),getCapabilities:t=>sd(e,t),getChainId:()=>Kt(e),getPermissions:()=>ad(e),prepareAuthorization:t=>os(e,t),prepareTransactionRequest:t=>ea(e,t),requestAddresses:()=>nd(e),requestPermissions:t=>rd(e,t),sendCalls:t=>Tc(e,t),sendRawTransaction:t=>Zs(e,t),sendTransaction:t=>Vt(e,t),showCallsStatus:t=>od(e,t),signAuthorization:t=>id(e,t),signMessage:t=>Xs(e,t),signTransaction:t=>cd(e,t),signTypedData:t=>ud(e,t),switchChain:t=>dd(e,t),waitForCallsStatus:t=>Sc(e,t),watchAsset:t=>ld(e,t),writeContract:t=>Qs(e,t)}}function hd(e){const{key:t="wallet",name:s="Wallet Client",transport:a}=e;return Xe({...e,key:t,name:s,transport:a,type:"walletClient"}).extend(Ts)}function md(e,t={}){const{keepAlive:s,key:a="webSocket",methods:n,name:r="WebSocket JSON-RPC",reconnect:o,retryDelay:i}=t;return({chain:c,retryCount:u,timeout:f})=>{var p;const l=t.retryCount??u,h=f??t.timeout??1e4,d=e||((p=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:p[0]),m={keepAlive:s,reconnect:o};if(!d)throw new Zt;return es({key:a,methods:n,name:r,async request({method:_,params:E}){const b={method:_,params:E},w=await ye(d,m),{error:A,result:v}=await w.requestAsync({body:b,timeout:h});if(A)throw new ts({body:b,error:A,url:d});return v},retryCount:l,retryDelay:i,timeout:h,type:"webSocket"},{getSocket(){return cu(d)},getRpcClient(){return ye(d,m)},async subscribe({params:_,onData:E,onError:b}){const w=await ye(d,m),{result:A}=await new Promise((v,x)=>w.request({body:{method:"eth_subscribe",params:_},onError(P){x(P),b==null||b(P)},onResponse(P){if(P.error){x(P.error),b==null||b(P.error);return}if(typeof P.id=="number"){v(P);return}P.method==="eth_subscription"&&E(P.params)}}));return{subscriptionId:A,async unsubscribe(){return new Promise(v=>w.request({body:{method:"eth_unsubscribe",params:[A]},onResponse:v}))}}}})}}class gd extends Error{constructor(t,s){super(s),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=s}}const Oe="/docs/contract/decodeDeployData";function pd(e){const{abi:t,bytecode:s,data:a}=e;if(a===s)return{bytecode:s};const n=t.find(o=>"type"in o&&o.type==="constructor");if(!n)throw new ss({docsPath:Oe});if(!("inputs"in n))throw new De({docsPath:Oe});if(!n.inputs||n.inputs.length===0)throw new De({docsPath:Oe});return{args:Ke(n.inputs,`0x${a.replace(s,"")}`),bytecode:s}}function yd(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(i=>Y(i)):e.blobs,a=s.reduce((i,c)=>i+c.length,0),n=Fe(new Uint8Array(a));let r=!0;for(const i of s){const c=Fe(i);for(;r&&c.position<i.length;){c.incrementPosition(1);let u=31;i.length-c.position<31&&(u=i.length-c.position);for(const f in Array.from({length:u})){const l=c.readByte();if(l===128&&!c.inspectBytes(c.remaining).includes(128)){r=!1;break}n.pushByte(l)}}}const o=n.bytes.slice(0,n.position);return t==="hex"?U(o):o}function bd(e){const{sidecars:t,version:s}=e,a=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),n=[];for(const{commitment:r}of t)n.push(as({commitment:r,to:a,version:s}));return n}const _d=2147483648;function wd(e){if(e===1)return 60n;if(e>=_d||e<0)throw new ns({chainId:e});return BigInt((2147483648|e)>>>0)}function Is({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function xd(e,t){try{e.loadTrustedSetup(t)}catch(s){const a=s;if(!a.message.includes("trusted setup is already loaded"))throw a}return Is(e)}function vd({r:e,yParityAndS:t}){const s=Y(t),a=s[0]&128?1:0,n=s;return a===1&&(n[0]&=127),{r:e,s:U(n),yParity:a}}function _t(e){const{r:t,s}=rs.Signature.fromCompact(e.slice(2,130));return{r:g(t,{size:32}),yParityAndS:g(s,{size:32})}}async function Ed(e){const{serializedTransaction:t,signature:s}=e,a=Ps(t),n=s??{r:a.r,s:a.s,v:a.v,yParity:a.yParity},r=ls({...a,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await ae({hash:Z(r),signature:n})}function wt({r:e,yParityAndS:t}){return`0x${new rs.Signature(T(e),T(t)).toCompactHex()}`}function Pd(e){const{r:t,s,v:a,yParity:n}=e,r=Number(n??a-27n);let o=s;if(r===1){const i=Y(s);i[0]|=128,o=U(i)}return{r:t,yParityAndS:o}}const Sd=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:ss,AbiConstructorParamsNotFoundError:De,AbiDecodingDataSizeInvalidError:ta,AbiDecodingDataSizeTooSmallError:sa,AbiDecodingZeroDataError:aa,AbiEncodingArrayLengthMismatchError:na,AbiEncodingBytesSizeMismatchError:ra,AbiEncodingLengthMismatchError:oa,AbiErrorInputsNotFoundError:ia,AbiErrorNotFoundError:ca,AbiErrorSignatureNotFoundError:ua,AbiEventNotFoundError:da,AbiEventSignatureEmptyTopicsError:la,AbiEventSignatureNotFoundError:fa,AbiFunctionNotFoundError:ha,AbiFunctionOutputsNotFoundError:ma,AbiFunctionSignatureNotFoundError:ga,AccountStateConflictError:pa,AtomicReadyWalletRejectedUpgradeError:ya,AtomicityNotSupportedError:ba,BaseError:ve,BaseFeeScalarError:_a,BlockNotFoundError:wa,BundleFailedError:Cc,BundleTooLargeError:xa,BytesSizeMismatchError:va,CallExecutionError:Ea,ChainDisconnectedError:Pa,ChainDoesNotSupportContract:Sa,ChainMismatchError:Ta,ChainNotFoundError:Ia,CircularReferenceError:Ca,ClientChainNotConfiguredError:Aa,ContractFunctionExecutionError:Ra,ContractFunctionRevertedError:Ba,ContractFunctionZeroDataError:La,CounterfactualDeploymentFailedError:ka,DecodeLogDataMismatch:Ma,DecodeLogTopicsMismatch:qa,DuplicateIdError:Oa,EIP1193ProviderRpcError:gd,Eip1559FeesNotSupportedError:ja,EnsAvatarInvalidNftUriError:Fa,EnsAvatarUnsupportedNamespaceError:Ha,EnsAvatarUriResolutionError:Na,EnsInvalidChainIdError:ns,EstimateGasExecutionError:Da,ExecutionRevertedError:Ua,FeeCapTooHighError:xe,FeeCapTooLowError:za,FeeConflictError:Ga,FilterTypeNotSupportedError:Va,HttpRequestError:$a,InsufficientFundsError:Wa,IntegerOutOfRangeError:Ka,InternalRpcError:Ja,IntrinsicGasTooHighError:Ya,IntrinsicGasTooLowError:Qa,InvalidAbiDecodingTypeError:Xa,InvalidAbiEncodingTypeError:Za,InvalidAbiItemError:en,InvalidAbiParameterError:It,InvalidAbiParametersError:tn,InvalidAbiTypeParameterError:sn,InvalidAddressError:V,InvalidArrayError:an,InvalidBytesBooleanError:nn,InvalidChainIdError:te,InvalidDecimalNumberError:rn,InvalidDefinitionTypeError:on,InvalidDomainError:cn,InvalidFunctionModifierError:un,InvalidHexBooleanError:dn,InvalidHexValueError:Ot,InvalidInputRpcError:ln,InvalidLegacyVError:$e,InvalidModifierError:fn,InvalidParameterError:hn,InvalidParamsRpcError:mn,InvalidParenthesisError:gn,InvalidPrimaryTypeError:pn,InvalidRequestRpcError:yn,InvalidSerializableTransactionError:bn,InvalidSerializedTransactionError:Q,InvalidSerializedTransactionTypeError:Dt,InvalidSignatureError:_n,InvalidStorageKeySizeError:Bt,InvalidStructSignatureError:wn,InvalidStructTypeError:xn,JsonRpcVersionUnsupportedError:vn,LimitExceededRpcError:En,MaxFeePerGasTooLowError:Pn,MethodNotFoundRpcError:Sn,MethodNotSupportedRpcError:Tn,NonceMaxValueError:In,NonceTooHighError:Cn,NonceTooLowError:An,ParseRpcError:Rn,ProviderDisconnectedError:Bn,ProviderRpcError:Ln,RawContractError:kn,ResourceNotFoundRpcError:Mn,ResourceUnavailableRpcError:qn,RpcError:On,RpcRequestError:ts,SizeExceedsPaddingSizeError:jn,SizeOverflowError:Fn,SliceOffsetOutOfBoundsError:Hn,SocketClosedError:ee,SolidityProtectedKeywordError:Nn,StateAssignmentConflictError:Dn,SwitchChainError:Un,TimeoutError:Ft,TipAboveFeeCapError:Rt,TransactionExecutionError:zn,TransactionNotFoundError:Gn,TransactionReceiptNotFoundError:Vn,TransactionRejectedRpcError:$n,TransactionTypeNotSupportedError:Wn,UnauthorizedProviderError:Kn,UnknownBundleIdError:Jn,UnknownNodeError:Yn,UnknownRpcError:Qn,UnknownSignatureError:Xn,UnknownTypeError:Zn,UnsupportedChainIdError:er,UnsupportedNonOptionalCapabilityError:tr,UnsupportedPackedAbiType:sr,UnsupportedProviderMethodError:ar,UrlRequiredError:Zt,UserRejectedRequestError:nr,WaitForCallsStatusTimeoutError:Ac,WaitForTransactionReceiptTimeoutError:rr,WebSocketRequestError:He,assertCurrentChain:Jt,assertRequest:Wt,assertTransactionEIP1559:ne,assertTransactionEIP2930:Ze,assertTransactionLegacy:et,blobsToCommitments:kt,blobsToProofs:qt,boolToBytes:or,boolToHex:ir,bytesToBigInt:cr,bytesToBool:ur,bytesToHex:U,bytesToNumber:dr,bytesToRlp:lr,bytesToString:fr,ccipFetch:pt,ccipRequest:pt,checksumAddress:$t,commitmentToVersionedHash:as,commitmentsToVersionedHashes:Mt,compactSignatureToHex:wt,compactSignatureToSignature:vd,concat:At,concatBytes:hr,concatHex:se,createClient:Xe,createNonceManager:Rc,createPublicClient:mr,createTestClient:fd,createTransport:es,createWalletClient:hd,custom:gr,decodeAbiParameters:Ke,decodeDeployData:pd,decodeErrorResult:pr,decodeEventLog:yr,decodeFunctionData:br,decodeFunctionResult:_r,defineBlock:wr,defineChain:xr,defineKzg:Is,defineTransaction:vr,defineTransactionReceipt:Er,defineTransactionRequest:Pr,deploylessCallViaBytecodeBytecode:Sr,deploylessCallViaFactoryBytecode:Tr,domainSeparator:Ir,encodeAbiParameters:Cr,encodeDeployData:Gt,encodeErrorResult:Ar,encodeEventTopics:Rr,encodeFunctionData:Br,encodeFunctionResult:Lr,encodePacked:Bc,erc1155Abi:kr,erc20Abi:Mr,erc20Abi_bytes32:qr,erc4626Abi:Or,erc6492SignatureValidatorAbi:ut,erc6492SignatureValidatorByteCode:dt,erc721Abi:jr,ethAddress:Fr,etherUnits:Ut,extractChain:Jc,fallback:qc,formatBlock:Hr,formatEther:Nr,formatGwei:Dr,formatLog:Ur,formatTransaction:zr,formatTransactionReceipt:Gr,formatTransactionRequest:Ye,formatUnits:Vr,fromBlobs:yd,fromBytes:$r,fromHex:Wr,fromRlp:tt,getAbiItem:Kr,getAddress:F,getChainContractAddress:Jr,getContract:Yr,getContractAddress:Uc,getContractError:Qr,getCreate2Address:cs,getCreateAddress:is,getEventSelector:lt,getEventSignature:fe,getFunctionSelector:ft,getFunctionSignature:fe,getSerializedTransactionType:Es,getTransactionType:Lt,getTypesForEIP712Domain:Yt,gweiUnits:zt,hashDomain:Xr,hashMessage:Ht,hashStruct:Zr,hashTypedData:Nt,hexToBigInt:T,hexToBool:eo,hexToBytes:Y,hexToCompactSignature:_t,hexToNumber:B,hexToRlp:to,hexToSignature:gt,hexToString:so,http:ao,isAddress:G,isAddressEqual:Ee,isBytes:Ue,isErc6492Signature:_s,isErc8010Signature:ws,isHash:hs,isHex:y,keccak256:Z,labelhash:no,maxInt104:ro,maxInt112:oo,maxInt120:io,maxInt128:co,maxInt136:uo,maxInt144:lo,maxInt152:fo,maxInt16:ho,maxInt160:mo,maxInt168:go,maxInt176:po,maxInt184:yo,maxInt192:bo,maxInt200:_o,maxInt208:wo,maxInt216:xo,maxInt224:vo,maxInt232:Eo,maxInt24:Po,maxInt240:So,maxInt248:To,maxInt256:Io,maxInt32:Co,maxInt40:Ao,maxInt48:Ro,maxInt56:Bo,maxInt64:Lo,maxInt72:ko,maxInt8:Mo,maxInt80:qo,maxInt88:Oo,maxInt96:jo,maxUint104:Fo,maxUint112:Ho,maxUint120:No,maxUint128:Do,maxUint136:Uo,maxUint144:zo,maxUint152:Go,maxUint16:Vo,maxUint160:$o,maxUint168:Wo,maxUint176:Ko,maxUint184:Jo,maxUint192:Yo,maxUint200:Qo,maxUint208:Xo,maxUint216:Zo,maxUint224:ei,maxUint232:ti,maxUint24:si,maxUint240:ai,maxUint248:ni,maxUint256:we,maxUint32:ri,maxUint40:oi,maxUint48:ii,maxUint56:ci,maxUint64:ui,maxUint72:di,maxUint8:li,maxUint80:fi,maxUint88:hi,maxUint96:mi,minInt104:gi,minInt112:pi,minInt120:yi,minInt128:bi,minInt136:_i,minInt144:wi,minInt152:xi,minInt16:vi,minInt160:Ei,minInt168:Pi,minInt176:Si,minInt184:Ti,minInt192:Ii,minInt200:Ci,minInt208:Ai,minInt216:Ri,minInt224:Bi,minInt232:Li,minInt24:ki,minInt240:Mi,minInt248:qi,minInt256:Oi,minInt32:ji,minInt40:Fi,minInt48:Hi,minInt56:Ni,minInt64:Di,minInt72:Ui,minInt8:zi,minInt80:Gi,minInt88:Vi,minInt96:$i,multicall3Abi:Wi,namehash:Ki,nonceManager:Lc,numberToBytes:Ji,numberToHex:g,offchainLookup:jc,offchainLookupAbiItem:Fc,offchainLookupSignature:Hc,pad:Ct,padBytes:Yi,padHex:Ne,parseAbi:Qi,parseAbiItem:Xi,parseAbiParameter:Dc,parseAbiParameters:Zi,parseCompactSignature:_t,parseErc6492Signature:uu,parseErc8010Signature:du,parseEther:xu,parseEventLogs:ec,parseGwei:vu,parseSignature:gt,parseTransaction:Ps,parseUnits:Je,prepareEncodeFunctionData:tc,presignMessagePrefix:sc,publicActions:ac,recoverAddress:ae,recoverMessageAddress:xs,recoverPublicKey:nc,recoverTransactionAddress:Ed,recoverTypedDataAddress:vs,ripemd160:ou,rpcSchema:rc,rpcTransactionType:oc,serializeAccessList:re,serializeCompactSignature:wt,serializeErc6492Signature:kc,serializeErc8010Signature:lu,serializeSignature:ht,serializeTransaction:ls,serializeTypedData:Xt,setErrorConfig:ic,setupKzg:xd,sha256:cc,shouldThrow:Oc,sidecarsToVersionedHashes:bd,signatureToCompactSignature:Pd,signatureToHex:ht,size:Ge,slice:ze,sliceBytes:uc,sliceHex:We,stringToBytes:dc,stringToHex:lc,stringify:fc,testActions:Ss,toBlobSidecars:Ve,toBlobs:hc,toBytes:N,toCoinType:wd,toEventHash:mt,toEventSelector:lt,toEventSignature:fe,toFunctionHash:mt,toFunctionSelector:ft,toFunctionSignature:fe,toHex:be,toPrefixedMessage:mc,toRlp:D,transactionType:gc,trim:W,universalSignatureValidatorAbi:ut,universalSignatureValidatorByteCode:dt,validateTypedData:Qt,verifyHash:fu,verifyMessage:hu,verifyTypedData:mu,walletActions:Ts,webSocket:md,weiUnits:pc,withCache:yc,withRetry:bc,withTimeout:jt,zeroAddress:_c,zeroHash:Mc},Symbol.toStringTag,{value:"Module"}));var st={},Ie={},Cs={},_e={},As={},ce={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.getSDKVersion=void 0;const Td=()=>"9.1.0";ue.getSDKVersion=Td;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.generateRequestId=void 0;const Id=e=>e.toString(16).padStart(2,"0"),Cd=e=>{const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,Id).join("")},Ad=()=>typeof window<"u"?Cd(10):new Date().getTime().toString(36);Ce.generateRequestId=Ad;Object.defineProperty(ce,"__esModule",{value:!0});ce.MessageFormatter=void 0;const Rd=ue,Bd=Ce;class Ae{}ce.MessageFormatter=Ae;Ae.makeRequest=(e,t)=>({id:(0,Bd.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,Rd.getSDKVersion)()}});Ae.makeResponse=(e,t,s)=>({id:e,success:!0,version:s,data:t});Ae.makeErrorResponse=(e,t,s)=>({id:e,success:!1,error:t,version:s});var O={};Object.defineProperty(O,"__esModule",{value:!0});O.RestrictedMethods=O.Methods=void 0;var xt;(function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"})(xt||(O.Methods=xt={}));var vt;(function(e){e.requestAddressBook="requestAddressBook"})(vt||(O.RestrictedMethods=vt={}));(function(e){var t=C&&C.__createBinding||(Object.create?function(r,o,i,c){c===void 0&&(c=i);var u=Object.getOwnPropertyDescriptor(o,i);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(r,c,u)}:function(r,o,i,c){c===void 0&&(c=i),r[c]=o[i]}),s=C&&C.__exportStar||function(r,o){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,r,i)};Object.defineProperty(e,"__esModule",{value:!0});const a=ce;class n{constructor(o=null,i=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:u,source:f})=>{const l=!u,h=!this.isServer&&f===window.parent,d=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),m=typeof d=="number"&&d>=1;let p=!0;return Array.isArray(this.allowedOrigins)&&(p=this.allowedOrigins.find(_=>_.test(c))!==void 0),!l&&h&&m&&p},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:u}=c,f=this.callbacks.get(u);f&&(f(c),this.callbacks.delete(u))},this.send=(c,u)=>{const f=a.MessageFormatter.makeRequest(c,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(f,"*"),new Promise((l,h)=>{this.callbacks.set(f.id,d=>{if(!d.success){h(new Error(d.error));return}l(d)})})},this.allowedOrigins=o,this.debugMode=i,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=n,s(O,e)})(As);var Re={},Be={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.isObjectEIP712TypedData=void 0;const Ld=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;Le.isObjectEIP712TypedData=Ld;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});var Bs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var t=Ec;Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return t.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return t.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return t.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return t.TransferDirection}})})(Bs);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});(function(e){var t=C&&C.__createBinding||(Object.create?function(a,n,r,o){o===void 0&&(o=r);var i=Object.getOwnPropertyDescriptor(n,r);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(a,o,i)}:function(a,n,r,o){o===void 0&&(o=r),a[o]=n[r]}),s=C&&C.__exportStar||function(a,n){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,a,r)};Object.defineProperty(e,"__esModule",{value:!0}),s(Le,e),s(Rs,e),s(Bs,e),s(Ls,e)})(Be);Object.defineProperty(Re,"__esModule",{value:!0});Re.TXs=void 0;const me=O,kd=Be;class Md{constructor(t){this.communicator=t}async getBySafeTxHash(t){if(!t)throw new Error("Invalid safeTxHash");return(await this.communicator.send(me.Methods.getTxBySafeTxHash,{safeTxHash:t})).data}async signMessage(t){const s={message:t};return(await this.communicator.send(me.Methods.signMessage,s)).data}async signTypedMessage(t){if(!(0,kd.isObjectEIP712TypedData)(t))throw new Error("Invalid typed data");return(await this.communicator.send(me.Methods.signTypedMessage,{typedData:t})).data}async send({txs:t,params:s}){if(!t||!t.length)throw new Error("No transactions were passed");const a={txs:t,params:s};return(await this.communicator.send(me.Methods.sendTransactions,a)).data}}Re.TXs=Md;var ke={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.RPC_CALLS=void 0;X.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};Object.defineProperty(ke,"__esModule",{value:!0});ke.Eth=void 0;const k=X,qd=O,j={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class Od{constructor(t){this.communicator=t,this.call=this.buildRequest({call:k.RPC_CALLS.eth_call,formatters:[null,j.defaultBlockParam]}),this.getBalance=this.buildRequest({call:k.RPC_CALLS.eth_getBalance,formatters:[null,j.defaultBlockParam]}),this.getCode=this.buildRequest({call:k.RPC_CALLS.eth_getCode,formatters:[null,j.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:k.RPC_CALLS.eth_getStorageAt,formatters:[null,j.blockNumberToHex,j.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:k.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:k.RPC_CALLS.eth_getBlockByHash,formatters:[null,j.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:k.RPC_CALLS.eth_getBlockByNumber,formatters:[j.blockNumberToHex,j.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:k.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:k.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:k.RPC_CALLS.eth_getTransactionCount,formatters:[null,j.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:k.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=s=>this.buildRequest({call:k.RPC_CALLS.eth_estimateGas})([s]),this.setSafeSettings=this.buildRequest({call:k.RPC_CALLS.safe_setSettings})}buildRequest(t){const{call:s,formatters:a}=t;return async n=>{a&&Array.isArray(n)&&a.forEach((i,c)=>{i&&(n[c]=i(n[c]))});const r={call:s,params:n||[]};return(await this.communicator.send(qd.Methods.rpcCall,r)).data}}}ke.Eth=Od;var Me={};const jd=wc(Sd);var K={};Object.defineProperty(K,"__esModule",{value:!0});K.MAGIC_VALUE_BYTES=K.MAGIC_VALUE=void 0;const Fd="0x1626ba7e";K.MAGIC_VALUE=Fd;const Hd="0x20c13b0b";K.MAGIC_VALUE_BYTES=Hd;var at={},de={},z={};Object.defineProperty(z,"__esModule",{value:!0});z.PermissionsError=z.PERMISSIONS_REQUEST_REJECTED=void 0;z.PERMISSIONS_REQUEST_REJECTED=4001;class nt extends Error{constructor(t,s,a){super(t),this.code=s,this.data=a,Object.setPrototypeOf(this,nt.prototype)}}z.PermissionsError=nt;Object.defineProperty(de,"__esModule",{value:!0});de.Wallet=void 0;const je=O,ge=z;class Nd{constructor(t){this.communicator=t}async getPermissions(){return(await this.communicator.send(je.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(t){if(!this.isPermissionRequestValid(t))throw new ge.PermissionsError("Permissions request is invalid",ge.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(je.Methods.wallet_requestPermissions,t)).data}catch{throw new ge.PermissionsError("Permissions rejected",ge.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(t){return t.every(s=>typeof s=="object"?Object.keys(s).every(a=>!!Object.values(je.RestrictedMethods).includes(a)):!1)}}de.Wallet=Nd;Object.defineProperty(at,"__esModule",{value:!0});const Dd=de,Et=z,Pt=(e,t)=>t.some(s=>s.parentCapability===e),Ud=()=>(e,t,s)=>{const a=s.value;return s.value=async function(){const n=new Dd.Wallet(this.communicator);let r=await n.getPermissions();if(Pt(t,r)||(r=await n.requestPermissions([{[t]:{}}])),!Pt(t,r))throw new Et.PermissionsError("Permissions rejected",Et.PERMISSIONS_REQUEST_REJECTED);return a.apply(this)},s};at.default=Ud;var zd=C&&C.__decorate||function(e,t,s,a){var n=arguments.length,r=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,s):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,s,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(n<3?o(r):n>3?o(t,s,r):o(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r},Gd=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Me,"__esModule",{value:!0});Me.Safe=void 0;const pe=jd,St=K,H=O,Tt=X,Vd=Be,$d=Gd(at);class ks{constructor(t){this.communicator=t}async getChainInfo(){return(await this.communicator.send(H.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(H.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:t="usd"}={}){return(await this.communicator.send(H.Methods.getSafeBalances,{currency:t})).data}async check1271Signature(t,s="0x"){const a=await this.getInfo(),n=(0,pe.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,s]}),r={call:Tt.RPC_CALLS.eth_call,params:[{to:a.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(H.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===St.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(t,s="0x"){const a=await this.getInfo(),n=(0,pe.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,s]}),r={call:Tt.RPC_CALLS.eth_call,params:[{to:a.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(H.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===St.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(t){return(0,pe.hashMessage)(t)}calculateTypedMessageHash(t){const s=typeof t.domain.chainId=="object"?t.domain.chainId.toNumber():Number(t.domain.chainId);let a=t.primaryType;if(!a){const n=Object.values(t.types),r=Object.keys(t.types).filter(o=>n.every(i=>i.every(({type:c})=>c.replace("[","").replace("]","")!==o)));if(r.length===0||r.length>1)throw new Error("Please specify primaryType");a=r[0]}return(0,pe.hashTypedData)({message:t.message,domain:{...t.domain,chainId:s,verifyingContract:t.domain.verifyingContract,salt:t.domain.salt},types:t.types,primaryType:a})}async getOffChainSignature(t){return(await this.communicator.send(H.Methods.getOffChainSignature,t)).data}async isMessageSigned(t,s="0x"){let a;if(typeof t=="string"&&(a=async()=>{const n=this.calculateMessageHash(t);return await this.isMessageHashSigned(n,s)}),(0,Vd.isObjectEIP712TypedData)(t)&&(a=async()=>{const n=this.calculateTypedMessageHash(t);return await this.isMessageHashSigned(n,s)}),a)return await a();throw new Error("Invalid message type")}async isMessageHashSigned(t,s="0x"){const a=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const n of a)if(await n(t,s))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(H.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(H.Methods.requestAddressBook,void 0)).data}}Me.Safe=ks;zd([(0,$d.default)()],ks.prototype,"requestAddressBook",null);var Wd=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});const Kd=Wd(As),Jd=Re,Yd=ke,Qd=Me,Xd=de;class Zd{constructor(t={}){const{allowedDomains:s=null,debug:a=!1}=t;this.communicator=new Kd.default(s,a),this.eth=new Yd.Eth(this.communicator),this.txs=new Jd.TXs(this.communicator),this.safe=new Qd.Safe(this.communicator),this.wallet=new Xd.Wallet(this.communicator)}}_e.default=Zd;(function(e){var t=C&&C.__createBinding||(Object.create?function(o,i,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(i,c);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[c]}}),Object.defineProperty(o,u,f)}:function(o,i,c,u){u===void 0&&(u=c),o[u]=i[c]}),s=C&&C.__exportStar||function(o,i){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(i,c)&&t(i,o,c)},a=C&&C.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const n=a(_e);e.default=n.default,s(_e,e),s(Be,e),s(O,e),s(ce,e);var r=ue;Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return r.getSDKVersion}}),s(X,e)})(Cs);var J={};Object.defineProperty(J,"__esModule",{value:!0});J.numberToHex=J.getLowerCase=void 0;function el(e){return e&&e.toLowerCase()}J.getLowerCase=el;function tl(e){return`0x${e.toString(16)}`}J.numberToHex=tl;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.SafeAppProvider=void 0;const $=Cs,sl=xc,q=J;class al extends sl.EventEmitter{constructor(t,s){super(),this.submittedTxs=new Map,this.safe=t,this.sdk=s}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(t){var n,r,o,i;const{method:s,params:a=[]}=t;switch(s){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,q.numberToHex)(this.chainId);case"personal_sign":{const[h,d]=a;if(this.safe.safeAddress.toLowerCase()!==d.toLowerCase())throw new Error("The address or message hash is invalid");const m=await this.sdk.txs.signMessage(h);return("signature"in m?m.signature:void 0)||"0x"}case"eth_sign":{const[h,d]=a;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase()||!d.startsWith("0x"))throw new Error("The address or message hash is invalid");const m=await this.sdk.txs.signMessage(d);return("signature"in m?m.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[h,d]=a,m=typeof d=="string"?JSON.parse(d):d;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase())throw new Error("The address is invalid");const p=await this.sdk.txs.signTypedMessage(m);return("signature"in p?p.signature:void 0)||"0x"}case"eth_sendTransaction":const c={...a[0],value:a[0].value||"0",data:a[0].data||"0x"};typeof c.gas=="string"&&c.gas.startsWith("0x")&&(c.gas=parseInt(c.gas,16));const u=await this.sdk.txs.send({txs:[c],params:{safeTxGas:c.gas}});return this.submittedTxs.set(u.safeTxHash,{from:this.safe.safeAddress,hash:u.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:c.data,value:c.value,to:c.to,blockHash:null,blockNumber:null,transactionIndex:null}),u.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,q.getLowerCase)(a[0]),a[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,q.getLowerCase)(a[0]),a[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,q.getLowerCase)(a[0]),a[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,q.getLowerCase)(a[0]),a[1],a[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([a[0],a[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([a[0],a[1]]);case"eth_getTransactionByHash":let l=a[0];try{l=(await this.sdk.txs.getBySafeTxHash(l)).txHash||l}catch{}return this.submittedTxs.has(l)?this.submittedTxs.get(l):this.sdk.eth.getTransactionByHash([l]).then(h=>(h&&(h.hash=a[0]),h));case"eth_getTransactionReceipt":{let h=a[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.sdk.eth.getTransactionReceipt([h]).then(d=>(d&&(d.transactionHash=a[0]),d))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(a[0]);case"eth_call":return this.sdk.eth.call([a[0],a[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([a[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(a[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([a[0]]);case"wallet_sendCalls":{const{from:h,calls:d,chainId:m}=a[0];if(m!==(0,q.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${m}`);if(h!==this.safe.safeAddress)throw Error("Invalid from address");const p=d.map((b,w)=>{if(!b.to)throw new Error(`Invalid call #${w}: missing "to" field`);return{to:b.to,data:b.data??"0x",value:b.value??(0,q.numberToHex)(0)}}),{safeTxHash:_}=await this.sdk.txs.send({txs:p});return{id:_}}case"wallet_getCallsStatus":{const h=a[0],d={[$.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[$.TransactionStatus.AWAITING_EXECUTION]:100,[$.TransactionStatus.SUCCESS]:200,[$.TransactionStatus.CANCELLED]:400,[$.TransactionStatus.FAILED]:500},m=await this.sdk.txs.getBySafeTxHash(h),p={version:"1.0",id:h,chainId:(0,q.numberToHex)(this.chainId),status:d[m.txStatus]};if(!m.txHash)return p;const _=await this.sdk.eth.getTransactionReceipt([m.txHash]);if(!_)return p;const E=((r=(n=m.txData)==null?void 0:n.dataDecoded)==null?void 0:r.method)!=="multiSend"?1:((i=(o=m.txData.dataDecoded.parameters)==null?void 0:o[0].valueDecoded)==null?void 0:i.length)??1,b=Number(_.blockNumber),w=Number(_.gasUsed);return p.receipts=Array(E).fill({logs:_.logs,status:(0,q.numberToHex)(m.txStatus===$.TransactionStatus.SUCCESS?1:0),blockHash:_.blockHash,blockNumber:(0,q.numberToHex)(b),gasUsed:(0,q.numberToHex)(w),transactionHash:m.txHash}),p}case"wallet_showCallsStatus":throw new Error(`"${t.method}" not supported`);case"wallet_getCapabilities":return{[(0,q.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${t.method}" not implemented`)}}send(t,s){t||s("Undefined request"),this.request(t).then(a=>s(null,{jsonrpc:"2.0",id:t.id,result:a})).catch(a=>s(a,null))}}Ie.SafeAppProvider=al;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var t=Ie;Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return t.SafeAppProvider}})})(st);const nl=vc(st),dl=Nc({__proto__:null,default:nl},[st]);export{dl as i};
